<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>NeoQuery, the simplified jQuery - WayneChoi.dev</title><meta name="author" content="Wayne Choi"/><meta name="description" content="I made a DOM manipulation library, and I was highly motivated from jQuery..."/><meta name="keywords" content="Library,JavaScript"/><meta name="next-head-count" content="6"/><link rel="preload" href="https://waynechoi.dev/_next/static/css/805f94071b234a9b205d.css" as="style"/><link rel="stylesheet" href="https://waynechoi.dev/_next/static/css/805f94071b234a9b205d.css" data-n-g=""/><link rel="preload" href="https://waynechoi.dev/_next/static/css/cde35213adb84359b33a.css" as="style"/><link rel="stylesheet" href="https://waynechoi.dev/_next/static/css/cde35213adb84359b33a.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="https://waynechoi.dev/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="https://waynechoi.dev/_next/static/chunks/webpack-d485bbc1d791f1a283b8.js" defer=""></script><script src="https://waynechoi.dev/_next/static/chunks/framework-b97a0ed4f13ff8397343.js" defer=""></script><script src="https://waynechoi.dev/_next/static/chunks/main-c4f2541b93e4ae8b71f8.js" defer=""></script><script src="https://waynechoi.dev/_next/static/chunks/pages/_app-bc781eda49c3fa74d5c0.js" defer=""></script><script src="https://waynechoi.dev/_next/static/chunks/610-041eb31b214f3f448fbb.js" defer=""></script><script src="https://waynechoi.dev/_next/static/chunks/pages/%5Bslug%5D-e222e7756b964d9823fd.js" defer=""></script><script src="https://waynechoi.dev/_next/static/OD94H86SWpMfl7sJ5gsyW/_buildManifest.js" defer=""></script><script src="https://waynechoi.dev/_next/static/OD94H86SWpMfl7sJ5gsyW/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="layout_container__1ROar"><header class="layout_header__MPs9E"><div class="header_container__2Vvjg"><div class="header_header__3lGRs"><button class="header_mobileMenuButton__1vVY8"><img alt="menu" src="https://waynechoi.dev/images/menu.svg"/></button><a class="header_name__2PEvs" href="/">WayneChoi.dev</a><ul class="header_list__2sooW"><li class="header_item_list_item__33J-y"><a href="/">HOME</a></li><li class="header_item_list_item__33J-y"><a href="/about">ABOUT</a></li><li class="header_item_list_item__33J-y"><a href="/portfolio">PORTFOLIO</a></li></ul><div class="header_searchBar__3VAZB"><form class="search_bar_container__2559w"><input type="text" id="keyword" placeholder="keywords..." required=""/><button type="submit"><img alt="search" src="https://waynechoi.dev/images/search.svg"/></button></form></div><button class="header_mobileSearchButton__1r9xs"><img alt="search" src="https://waynechoi.dev/images/search.svg"/></button></div></div></header><section class="layout_contents__wGaub"><div class="blog_container__3EBzV"><div class="blog_tagWrapper__sYhAm"><span class="blog_tag__2jFK0">#<!-- -->Library</span><span class="blog_tag__2jFK0">#<!-- -->JavaScript</span></div><h1 class="blog_h1__3s5r-">NeoQuery, the simplified jQuery</h1><span class="blog_date__2SU8B">Sep 1, 2021</span><div class="blog_content__mgCMi"><div><div>
<p>jQuery, which used to be a market-dominant library, is getting less attention in 2021. It is not an attractive option for new projects anymore, but legacy. Most browsers support web standards, and JavaScript improved a lot with ES6 update. We got fancy api like querySelectorAll() instead of getElementById(), and it is as convenient as jQuery methods.</p><p>In addition, jQuery is too heavy. In modern JS ecosystem, modularized library is recommend to use. jQuery, however, does have too many features. It helps Dom manipulation, CSS styling, event handling, animation, and ajax. They could be covered with modern JavaScript, or sometimes other modularized library like Axios.</p><p>But I believe jQuery syntax still works well. Especially its way to manipulate DOM with chaining method is still attractive. So I made a library, which is highly motivated from jQuery, and has similar methods and syntax, to manipulate DOM. It is <a href="https://github.com/waynethebb/neoquery">NeoQuery.</a></p><h2 id="fluent-interface">Fluent Interface</h2><p>A fluent interface is normally implemented by using method chaining to implement method cascading. jQuery is one of the most representative examples of use.</p><pre><code class="lang-javascript">//jQuery example
$(&quot;#textNode&quot;).css(&quot;color&quot;, &quot;red&quot;).appendTo(&quot;#someDiv&quot;);</code></pre><p>It is implemented by having each method return the object to which it is attached, often referred to as &quot;this&quot;. Stated more abstractly, a fluent interface relays the instruction context of a subsequent call in method chaining, where generally the context is</p><ul><li>Defined through the return value of a called method</li><li>Self-referential, where the new context is equivalent to the last context</li><li>Terminated through the return of a void context</li></ul><pre><code class="lang-javascript">Class Person{
    constructor(){
        this.name;
        this.age;
    }

    setName(name) {
        this.name = name
        return this
    }

    setAge(age) {
        this.age = age
        return this
    }

    sayHi() {
        console.log(`Hi. I am ${this.name}, ${age} years old.`)
        return this
    }
}

new Person().setName(&quot;Wayne&quot;).setAge(&quot;30&quot;).sayHi();
//&quot;Hi. I am Wayne, 30 years old.&quot;</code></pre><p>I tried to implement chaining method with similar syntax as jQuery. I didn&#x27;t export class, but export $() function which create instance of the fluent interface class, and return method of the class.</p><pre><code class="lang-javascript">export default function $(query) {
  return neoQuery.selectQuery(query);
}

class NeoQuery {
  constructor() {
    this.element;
  }

  selectQuery(query) {
    const newElement = document.querySelectorAll(query);
    this.element = newElement;
    return this;
  }

  addClass() {
    ...
    this.element = ...
    return this;
  }

  appendTo(query) {
    ...
    this.element = ...
    return this;
  }
  ...
}

$(&quot;#textNode&quot;).addClass(&quot;myClass&quot;).appendTo(&quot;#someDiv&quot;);</code></pre><h2 id="">$()</h2><p>The function, $(), is to create new instance, and start chaining methods. It has three features.</p><pre><code class="lang-javascript">$(callback);
// Binds a function to be executed when the DOM has finished loading.
// It doesn&#x27;t chain methods.
// ex) $(()=&gt;{console.log(&quot;ready&quot;)})

$(selector);
// Selects DOM elements with a CSS selector
// ex) $( &quot;div.foo&quot; ).---

$(html);
//Creates DOM elements from the provided string of raw HTML.
// ex) $(&quot;&lt;div&gt;test&lt;/div&gt;&quot;).---</code></pre><h2 id="methods">Methods</h2><p>I made all methods (except $()), have only one feature. It is to avoid unnecessary logic to categorize arguments for running different feature in one methods, and has more intuitive interface.</p><pre><code class="lang-javascript">// jQuery
attr(attributeName); // Get the value of attributes
attr(attributeName, value); // Set attributes

// neoQuery
attr(attributeName); // Get the value of an attributes
addAttr(attributeName, value); // Set attributes</code></pre><h2 id="other-features">Other features</h2><p>I didn&#x27;t create ajax and animation features, and minimize styling and event handling features. I intended to make this library as light as possible.</p><h3 id="styling">Styling</h3><ul><li>addCss(propertyName, value)</li><li>removeCss(propertyName)</li><li>show()</li><li>hide()</li></ul><p>I believe in-line styling need to be rejected, so I did not implement other styling methods. Unlike jQuery, those method can get only one property name as an argument.(&quot;css()&quot; the jQuery method can get object for css properties)</p><p>&quot;show()&quot; and &quot;hide()&quot; methods was only exception. I think those methods are more like DOM control, and it does not conflict against other style properties.</p><h3 id="event">Event</h3><ul><li>on(event, callback)</li><li>one(event, callback)</li><li>off(event, callback)</li></ul><p>I did not make other features to create event listener, but methods we can use with the browser event types.</p><h2 id="references">References</h2><ul><li><a href="http://jquery.com/">&quot;jQuery: The write less, do more, JavaScript library&quot;</a></li><li><a href="https://www.martinfowler.com/bliki/FluentInterface.html">Martin Fowler, &quot;FluentInterface&quot;</a></li></ul></div></div></div><div id="utterances_container"></div></div></section><footer class="layout_footer__2KiKH">(C) <!-- -->2021<!-- -->. Wonjun Choi. All rights reserved.</footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontMatter":{"title":"NeoQuery, the simplified jQuery","date":"Sep 1, 2021","tag":["Library","JavaScript"],"excerpt":"I made a DOM manipulation library, and I was highly motivated from jQuery..."},"content":"\r\njQuery, which used to be a market-dominant library, is getting less attention in 2021. It is not an attractive option for new projects anymore, but legacy. Most browsers support web standards, and JavaScript improved a lot with ES6 update. We got fancy api like querySelectorAll() instead of getElementById(), and it is as convenient as jQuery methods.\r\n\r\nIn addition, jQuery is too heavy. In modern JS ecosystem, modularized library is recommend to use. jQuery, however, does have too many features. It helps Dom manipulation, CSS styling, event handling, animation, and ajax. They could be covered with modern JavaScript, or sometimes other modularized library like Axios.\r\n\r\nBut I believe jQuery syntax still works well. Especially its way to manipulate DOM with chaining method is still attractive. So I made a library, which is highly motivated from jQuery, and has similar methods and syntax, to manipulate DOM. It is [NeoQuery.](https://github.com/waynethebb/neoquery)\r\n\r\n## Fluent Interface\r\n\r\nA fluent interface is normally implemented by using method chaining to implement method cascading. jQuery is one of the most representative examples of use.\r\n\r\n```javascript\r\n//jQuery example\r\n$(\"#textNode\").css(\"color\", \"red\").appendTo(\"#someDiv\");\r\n```\r\n\r\nIt is implemented by having each method return the object to which it is attached, often referred to as \"this\". Stated more abstractly, a fluent interface relays the instruction context of a subsequent call in method chaining, where generally the context is\r\n\r\n- Defined through the return value of a called method\r\n- Self-referential, where the new context is equivalent to the last context\r\n- Terminated through the return of a void context\r\n\r\n```javascript\r\nClass Person{\r\n    constructor(){\r\n        this.name;\r\n        this.age;\r\n    }\r\n\r\n    setName(name) {\r\n        this.name = name\r\n        return this\r\n    }\r\n\r\n    setAge(age) {\r\n        this.age = age\r\n        return this\r\n    }\r\n\r\n    sayHi() {\r\n        console.log(`Hi. I am ${this.name}, ${age} years old.`)\r\n        return this\r\n    }\r\n}\r\n\r\nnew Person().setName(\"Wayne\").setAge(\"30\").sayHi();\r\n//\"Hi. I am Wayne, 30 years old.\"\r\n```\r\n\r\nI tried to implement chaining method with similar syntax as jQuery. I didn't export class, but export $() function which create instance of the fluent interface class, and return method of the class.\r\n\r\n```javascript\r\nexport default function $(query) {\r\n  return neoQuery.selectQuery(query);\r\n}\r\n\r\nclass NeoQuery {\r\n  constructor() {\r\n    this.element;\r\n  }\r\n\r\n  selectQuery(query) {\r\n    const newElement = document.querySelectorAll(query);\r\n    this.element = newElement;\r\n    return this;\r\n  }\r\n\r\n  addClass() {\r\n    ...\r\n    this.element = ...\r\n    return this;\r\n  }\r\n\r\n  appendTo(query) {\r\n    ...\r\n    this.element = ...\r\n    return this;\r\n  }\r\n  ...\r\n}\r\n\r\n$(\"#textNode\").addClass(\"myClass\").appendTo(\"#someDiv\");\r\n```\r\n\r\n## $()\r\n\r\nThe function, $(), is to create new instance, and start chaining methods. It has three features.\r\n\r\n```javascript\r\n$(callback);\r\n// Binds a function to be executed when the DOM has finished loading.\r\n// It doesn't chain methods.\r\n// ex) $(()=\u003e{console.log(\"ready\")})\r\n\r\n$(selector);\r\n// Selects DOM elements with a CSS selector\r\n// ex) $( \"div.foo\" ).---\r\n\r\n$(html);\r\n//Creates DOM elements from the provided string of raw HTML.\r\n// ex) $(\"\u003cdiv\u003etest\u003c/div\u003e\").---\r\n```\r\n\r\n## Methods\r\n\r\nI made all methods (except $()), have only one feature. It is to avoid unnecessary logic to categorize arguments for running different feature in one methods, and has more intuitive interface.\r\n\r\n```javascript\r\n// jQuery\r\nattr(attributeName); // Get the value of attributes\r\nattr(attributeName, value); // Set attributes\r\n\r\n// neoQuery\r\nattr(attributeName); // Get the value of an attributes\r\naddAttr(attributeName, value); // Set attributes\r\n```\r\n\r\n## Other features\r\n\r\nI didn't create ajax and animation features, and minimize styling and event handling features. I intended to make this library as light as possible.\r\n\r\n### Styling\r\n\r\n- addCss(propertyName, value)\r\n- removeCss(propertyName)\r\n- show()\r\n- hide()\r\n\r\nI believe in-line styling need to be rejected, so I did not implement other styling methods. Unlike jQuery, those method can get only one property name as an argument.(\"css()\" the jQuery method can get object for css properties)\r\n\r\n\"show()\" and \"hide()\" methods was only exception. I think those methods are more like DOM control, and it does not conflict against other style properties.\r\n\r\n### Event\r\n\r\n- on(event, callback)\r\n- one(event, callback)\r\n- off(event, callback)\r\n\r\nI did not make other features to create event listener, but methods we can use with the browser event types.\r\n\r\n## References\r\n\r\n- [\"jQuery: The write less, do more, JavaScript library\"](http://jquery.com/)\r\n- [Martin Fowler, \"FluentInterface\"](https://www.martinfowler.com/bliki/FluentInterface.html)\r\n"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"neoquery_the_simplified_jquery"},"buildId":"OD94H86SWpMfl7sJ5gsyW","assetPrefix":"https://waynechoi.dev","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>